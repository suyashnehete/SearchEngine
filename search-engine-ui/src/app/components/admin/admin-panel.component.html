<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <h2><i class="fas fa-cogs me-2"></i>Admin Panel</h2>
      <p class="text-muted">Manage indexing operations</p>
      <div class="alert alert-info">
        <h6><i class="fas fa-info-circle me-2"></i>Service Status</h6>
        <p class="mb-2">Admin panel uses API Gateway with JWT authentication. Ensure all backend services are running:</p>
        <small>
          <strong>Required Services:</strong><br>
          • Gateway (port 8081) - API routing<br>
          • Auth Server (port 8080) - Authentication<br>
          • Crawler (port 8082) - Web crawling<br>
          • Indexer (port 8083) - Content indexing<br>
          • Query (port 8084) - Search processing<br>
          • Discovery (port 8761) - Service registry
        </small>
        <div class="mt-2">
          <button class="btn btn-sm btn-outline-primary me-2" (click)="testConnection()">
            <i class="fas fa-heartbeat me-1"></i>Check Service Status
          </button>
          <button class="btn btn-sm btn-outline-secondary me-2" (click)="debugAuth()">
            <i class="fas fa-bug me-1"></i>Debug Auth
          </button>
          <button class="btn btn-sm btn-outline-warning me-2" (click)="quickTest()">
            <i class="fas fa-flask me-1"></i>Quick Test
          </button>
          <button class="btn btn-sm btn-outline-success me-2" (click)="testAdminEndpoint()">
            <i class="fas fa-vial me-1"></i>Test Admin API
          </button>
          <button class="btn btn-sm btn-outline-danger me-2" (click)="checkSystemReadiness()">
            <i class="fas fa-clipboard-check me-1"></i>System Check
          </button>
          <a class="btn btn-sm btn-outline-info" routerLink="/startup-guide">
            <i class="fas fa-rocket me-1"></i>Startup Guide
          </a>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row mt-4">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h5><i class="fas fa-spider me-2"></i>Crawler Management</h5>
        </div>
        <div class="card-body">
          <p>Control crawler service and queue management.</p>
          <button class="btn btn-success me-2" (click)="startCrawler()">
            <i class="fas fa-play me-1"></i>
            Start Service
          </button>
          <button class="btn btn-danger me-2" (click)="stopCrawler()">
            <i class="fas fa-stop me-1"></i>
            Stop Service
          </button>
          <button class="btn btn-info me-2" (click)="viewCrawlerQueue()">
            <i class="fas fa-list me-1"></i>
            View Queue
          </button>
          <button class="btn btn-secondary" (click)="testConnection()">
            <i class="fas fa-heartbeat me-1"></i>
            Test Connection
          </button>
        </div>
      </div>
    </div>
    
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h5><i class="fas fa-database me-2"></i>Index Management</h5>
        </div>
        <div class="card-body">
          <p>Manage search index and optimization.</p>
          <button class="btn btn-primary me-2" (click)="reindexAll()">
            <i class="fas fa-sync me-1"></i>
            Reindex All
          </button>
          <button class="btn btn-warning me-2" (click)="optimizeIndex()">
            <i class="fas fa-tachometer-alt me-1"></i>
            Optimize
          </button>
          <button class="btn btn-danger" (click)="clearIndex()">
            <i class="fas fa-trash me-1"></i>
            Clear Index
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row mt-4">
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h5><i class="fas fa-shield-alt me-2"></i>Content Moderation</h5>
        </div>
        <div class="card-body">
          <p>Manage blocked domains and content filtering.</p>
          <button class="btn btn-secondary me-2" (click)="viewBlockedDomains()">
            <i class="fas fa-ban me-1"></i>
            Blocked Domains
          </button>
          <button class="btn btn-info" (click)="viewCrawlPolicies()">
            <i class="fas fa-file-alt me-1"></i>
            Crawl Policies
          </button>
        </div>
      </div>
    </div>
    
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          <h5><i class="fas fa-chart-line me-2"></i>Analytics & Monitoring</h5>
        </div>
        <div class="card-body">
          <p>View system performance and usage analytics.</p>
          <button class="btn btn-info me-2" (click)="viewSystemMetrics()">
            <i class="fas fa-chart-bar me-1"></i>
            System Metrics
          </button>
          <button class="btn btn-primary" (click)="viewSearchAnalytics()">
            <i class="fas fa-search me-1"></i>
            Search Analytics
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row mt-4">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h5><i class="fas fa-chart-bar me-2"></i>System Overview</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-3">
              <div class="text-center">
                <h6>Crawler Status</h6>
                <span class="badge bg-success">Running</span>
              </div>
            </div>
            <div class="col-md-3">
              <div class="text-center">
                <h6>Queue Size</h6>
                <span class="badge bg-warning">45</span>
              </div>
            </div>
            <div class="col-md-3">
              <div class="text-center">
                <h6>Documents Indexed</h6>
                <span class="badge bg-info">1,234</span>
              </div>
            </div>
            <div class="col-md-3">
              <div class="text-center">
                <h6>Index Size</h6>
                <span class="badge bg-primary">2.4 GB</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>